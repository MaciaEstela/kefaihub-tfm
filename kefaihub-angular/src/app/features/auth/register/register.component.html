<div class="container mt-5" style="max-width: 500px">
  <h2 class="mb-4">{{ 'REGISTER.TITLE' | translate }}</h2>

  <form #registerForm="ngForm" (ngSubmit)="onRegister()" novalidate>
    <div class="mb-3">
      <label class="form-label">{{ 'REGISTER.NAME' | translate }}</label>
      <input
        class="form-control"
        [(ngModel)]="givenName"
        name="givenName"
        required
      />
    </div>

    <div class="mb-3">
      <label class="form-label">{{ 'REGISTER.SURNAME' | translate }}</label>
      <input
        class="form-control"
        [(ngModel)]="familyName"
        name="familyName"
        required
      />
    </div>

    <div class="mb-3">
      <label class="form-label">{{ 'REGISTER.USERNAME' | translate }}</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="alternateName"
        name="alternateName"
        required
        pattern="^[a-zA-Z0-9]{4,}$"
        #usernameField="ngModel"
      />
      <div
        *ngIf="usernameField.invalid && usernameField.touched"
        class="text-danger mt-1"
      >
        <small *ngIf="usernameField.errors?.['required']">
          {{ 'REGISTER.VALIDATION.REQUIRED' | translate }}
        </small>
        <small *ngIf="usernameField.errors?.['pattern']">
          {{ 'REGISTER.VALIDATION.USERNAME_FORMAT' | translate }}
        </small>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">{{ 'REGISTER.EMAIL' | translate }}</label>
      <input
        type="email"
        class="form-control"
        [(ngModel)]="emailAddress"
        name="emailAddress"
        required
      />
    </div>

    <div class="mb-3">
      <label class="form-label">{{ 'REGISTER.PASSWORD' | translate }}</label>
      <input
        type="password"
        class="form-control"
        [(ngModel)]="password"
        name="password"
        required
      />
    </div>

    <button
      type="submit"
      class="btn btn-success w-100"
      [disabled]="registerForm.invalid"
    >
      {{ 'REGISTER.SUBMIT' | translate }}
    </button>
  </form>

  <div *ngIf="success" class="alert alert-success mt-3">
    {{ 'REGISTER.SUCCESS' | translate }}<br />
    {{ 'REGISTER.REDIRECT' | translate }}
  </div>

  <div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>
</div>